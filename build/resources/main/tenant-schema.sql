CREATE USER tenant1 WITH PASSWORD 'tenant1';
CREATE USER tenant2 WITH PASSWORD 'tenant2';
CREATE SCHEMA tenant1;
CREATE SCHEMA tenant2;

ALTER SCHEMA tenant1 OWNER TO tenant1;
ALTER SCHEMA tenant2 OWNER TO tenant2;

ALTER DEFAULT PRIVILEGES IN SCHEMA tenant1 GRANT ALL PRIVILEGES ON TABLES TO tenant1;
ALTER DEFAULT PRIVILEGES IN SCHEMA tenant2 GRANT ALL PRIVILEGES ON TABLES TO tenant2;


GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA tenant1 to tenant1;
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA tenant2 to tenant2;

GRANT USAGE ON ALL SEQUENCES IN SCHEMA tenant1 to tenant1;
GRANT USAGE ON ALL SEQUENCES IN SCHEMA tenant2 to tenant2;

GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA tenant1 to postgres;
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA tenant2 to postgres;

create table sample_data (id int8 generated by default as identity, name varchar(255), primary key (id));
create table tenant1.sample_data (id int8 generated by default as identity, name varchar(255), primary key (id));
create table tenant2.sample_data (id int8 generated by default as identity, name varchar(255), primary key (id));
